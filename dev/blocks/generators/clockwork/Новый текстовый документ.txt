MachineRegistry.register(BlockID.engineClockwork, {
    defaultValues: {
		heat: 0,
		delay: 0
    },

    isGenerator: function () {
        return true;
    },

	click: function(){
		this.data.heat = Math.min(heat+100, 800);
		this.data.delay = 20;
		
		if(his.data.heat > 700){
			Player.setHealth(Math.min(0, Player.getHealth() - 4));
		}
	},
	
    tick: function () {
        if(this.data.delay && this.data.heat){
			this.data.heat -= 100;
			this.data.energy += 2;
		}
    },

    getEnergyStorage: function () {
        return 10;
    },

    energyTick: function (type, src) {
        var out = Math.min(2, this.data.energy);
        this.data.energy -= out;
        this.data.energy += src.add(out);
    }
});